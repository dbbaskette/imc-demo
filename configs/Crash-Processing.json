{
  "config": {
    "layout": "horizontal",
    "updateInterval": 30000,
    "title": "Crash Detection & Agentic FNOL Processing",
    "nodeGlow": {
      "enabled": true,
      "intensity": 8,
      "spread": 12
    }
  },
  "nodes": [
    {
      "name": "telegen",
      "displayName": "Telematics Generator",
      "description": "Creates Simulated Telematics Data.",
      "icon": "üöó",
      "position": {
        "x": 150,
        "y": 100
      },
      "circleColor": "#3498db",
      "clickBehavior": "url",
      "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/actuator/health",
        "key": "health-check-token-123",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 10000
      },
      "dataGrid": [
        {
          "label": "Total Messages Sent",
          "key": "xyz-apikey-for-webserver",
          "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/actuator/metrics/telematics.messages.sent",
          "valueField": "measurements[0].value"
        },
        {
          "label": "Message/Second",
          "key": "bearer-token-secret-123",
          "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/actuator/metrics/telematics.messages.rate",
          "valueField": "measurements[0].value"
        }
      ],
      "connectTo": [],
      "handles": {
        "input": 0,
        "output": 1
      }
    },
    {
      "name": "teleExchange",
      "displayName": "Telematics Exchange (Queue)",
      "description": "Captures Streaming Data.",
      "icon": "/assets/icons/RabbitMQ.svg",
      "position": {
        "x": 400,
        "y": 100
      },
      "circleColor": "#76D72A",
      "clickBehavior": "both",
      "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/overview",
        "valueField": "rabbitmq_version",
        "upValue": "4.0.12",
        "downValue": "down",
        "updateInterval": 15000
      },
      "dataGrid": [
        {
          "label": "Messages IN (msgs/sec)",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange",
          "valueField": "message_stats.publish_in_details.rate"
        },
        {
          "label": "Messages OUT (msgs/sec)",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange",
          "valueField": "message_stats.publish_out_details.rate"
        }
      ],
      "connectTo": [
        {
          "target": "telegen",
          "outputHandle": 0,
          "inputHandle": 0,
          "lineType": "solid",
          "lineColor": "#76D72A",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 1.5,
            "density": 100,
            "color": "#3498db",
            "size": 5,
            "count": 4,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "HDFSsink",
      "displayName": "HDFS Sink",
      "description": "RabbitMQ to HDFS.",
      "icon": "üóÑÔ∏è",
      "position": {
        "x": 670,
        "y": 10
      },
      "circleColor": "#e74c3c",
      "clickBehavior": "url",
      "url": "${IMC-HDFS-SINK}",
      "status": {
        "url": "${IMC-HDFS-SINK}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 15000
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange.hdfs-sink-group",
          "valueField": "message_stats.deliver_get"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange.hdfs-sink-group",
          "valueField": "message_stats.ack"
        }
      ],
      "connectTo": [
        {
          "target": "teleExchange",
          "outputHandle": 0,
          "inputHandle": 0,
          "lineType": "solid",
          "lineColor": "#e74c3c",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 5,
            "density": 200,
            "color": "#76D72A",
            "count": 5,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "crashSink",
      "displayName": "Crash Sink",
      "description": "Detects crashes and triggers FNOL workflow.",
      "icon": "/assets/icons/imc-crash.png",
      "position": {
        "x": 660,
        "y": 277
      },
      "circleColor": "#e74c3c",
      "clickBehavior": "url",
      "url": "${CRASH-SINK-SCDF}",
      "status": {
        "url": "${CRASH-SINK-SCDF}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 30000
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange.crash-detection-group",
          "valueField": "message_stats.deliver_get"
        },
        {
          "label": "Crashes Detected",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events.jdbc-group",
          "valueField": "message_stats.publish"
        }
      ],
      "connectTo": [
        {
          "target": "teleExchange",
          "outputHandle": 1,
          "inputHandle": 0,
          "lineType": "solid",
          "lineColor": "#e74c3c",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 5,
            "density": 200,
            "color": "#76D72A",
            "count": 5,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "hdfs",
      "displayName": "Tanzu Data Lake (HDFS)",
      "description": "Long term storage for telemetry data.",
      "icon": "/assets/icons/hadoop.svg",
      "position": {
        "x": 925,
        "y": 10
      },
      "circleColor": "#e74c3c",
      "clickBehavior": "url",
      "url": "http://big-data-005.kuhn-labs.com:9870/",
      "status": {
        "url": "http://big-data-005.kuhn-labs.com:9870/jmx?qry=Hadoop:service=NameNode,name=NameNodeStatus",
        "valueField": "beans[0].State",
        "upValue": "active",
        "downValue": "standby",
        "updateInterval": 20000
      },
      "dataGrid": [
        {
          "label": "User Capacity (GB)",
          "url": "http://big-data-005.kuhn-labs.com:9870/jmx?qry=Hadoop:service=NameNode,name=FSNamesystemState",
          "valueField": "beans[0].CapacityUsed",
          "transform": "divide_1073741824"
        },
        {
          "label": "# Files",
          "url": "http://big-data-005.kuhn-labs.com:9870/jmx?qry=Hadoop:service=NameNode,name=FSNamesystemState",
          "valueField": "beans[0].FilesTotal"
        }
      ],
      "connectTo": [
        {
          "target": "HDFSsink",
          "outputHandle": 1,
          "inputHandle": 0,
          "lineType": "solid",
          "lineColor": "#e74c3c",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 5,
            "density": 200,
            "color": "#F8F8F8",
            "count": 5,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "vehicleExchange",
      "displayName": "Vehicle Events Exchange (Queue)",
      "description": "Crash Events Data.",
      "icon": "/assets/icons/RabbitMQ.svg",
      "position": {
        "x": 921,
        "y": 275
      },
      "circleColor": "#76D72A",
      "clickBehavior": "both",
      "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/overview",
        "valueField": "rabbitmq_version",
        "upValue": "4.0.12",
        "downValue": "down",
        "updateInterval": 30000
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events",
          "valueField": "message_stats.publish_in"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events",
          "valueField": "message_stats.publish_out"
        }
      ],
      "connectTo": [
        {
          "target": "crashSink",
          "outputHandle": 0,
          "inputHandle": 0,
          "lineType": "solid",
          "lineColor": "#76D72A",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 1.5,
            "density": 100,
            "color": "#F8F8F8",
            "count": 4,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "crashOrchestrator",
      "displayName": "Crash Orchestrator (Agentic)",
      "description": "AI Agent orchestrates FNOL workflow",
      "icon": "/assets/icons/orchestrator.png",
      "position": {
        "x": 921,
        "y": 450
      },
      "circleColor": "#9b59b6",
      "clickBehavior": "url",
      "url": "https://crash-ui.apps.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "${CRASH-ORCHESTRATOR}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 300000
      },
      "dataGrid": [
        {
          "label": "Active Claims",
          "url": "${CRASH-ORCHESTRATOR}/api/accidents/count",
          "valueField": "count"
        },
        {
          "label": "FNOL Processed",
          "url": "${CRASH-ORCHESTRATOR}/api/stats/fnol",
          "valueField": "processed"
        }
      ],
      "connectTo": [
        {
          "target": "crashSink",
          "outputHandle": 1,
          "inputHandle": 0,
          "lineType": "dashed",
          "lineColor": "#9b59b6",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 2,
            "density": 150,
            "color": "#9b59b6",
            "count": 3,
            "direction": "target",
            "text": "HTTP",
            "textColor": "#ffffff",
            "fontSize": 8
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "JDBCsink",
      "displayName": "JDBC Sink",
      "description": "Sink Events to Database",
      "icon": "fa-solid fa-database",
      "position": {
        "x": 1150,
        "y": 190
      },
      "circleColor": "#76D72A",
      "url": "${IMC-JDBC-CONSUMER}",
      "status": {
        "url": "${IMC-JDBC-CONSUMER}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 30000
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events.jdbc-group",
          "valueField": "message_stats.deliver_get"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events.jdbc-group",
          "valueField": "message_stats.ack"
        }
      ],
      "connectTo": [
        {
          "target": "vehicleExchange",
          "outputHandle": 0,
          "inputHandle": 0,
          "lineType": "solid",
          "lineColor": "#76D72A",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 1.5,
            "density": 100,
            "color": "#F8F8F8",
            "count": 4,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "gpdb",
      "displayName": "Greenplum Warehouse",
      "description": "Enterprise MPP Data Warehouse with MADlib ML",
      "icon": "/assets/icons/tanzu.png",
      "position": {
        "x": 1398,
        "y": 194
      },
      "circleColor": "#76D72A",
      "clickBehavior": "modal",
      "status": {
        "url": "https://imc-db-server.apps.tas-ndc.kuhn-labs.com/api/db01/health",
        "valueField": "data.status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 30000
      },
      "dataGrid": [],
      "connectTo": [
        {
          "target": "JDBCsink",
          "outputHandle": 0,
          "inputHandle": 1,
          "lineType": "solid",
          "lineColor": "#3498db",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 1.5,
            "density": 100,
            "color": "#3498db",
            "size": 6,
            "count": 4,
            "direction": "target"
          }
        },
        {
          "target": "hdfs",
          "outputHandle": 1,
          "inputHandle": 1,
          "lineType": "dashed",
          "lineColor": "#e74c3c",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 1.5,
            "density": 100,
            "color": "#3498db",
            "size": 8,
            "text": "PXF",
            "textColor": "#ffffff",
            "fontSize": 8,
            "count": 4,
            "direction": "target"
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 0
      }
    },
    {
      "name": "communicationsService",
      "displayName": "Communications Service",
      "description": "Sends SMS/Email notifications to customers",
      "icon": "üì±",
      "position": {
        "x": 1150,
        "y": 450
      },
      "circleColor": "#f39c12",
      "clickBehavior": "url",
      "url": "${CRASH-COMMUNICATIONS}",
      "status": {
        "url": "${CRASH-COMMUNICATIONS}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 300000
      },
      "dataGrid": [
        {
          "label": "SMS Sent",
          "url": "${CRASH-COMMUNICATIONS}/api/stats/sms",
          "valueField": "sent"
        },
        {
          "label": "Emails Sent",
          "url": "${CRASH-COMMUNICATIONS}/api/stats/email",
          "valueField": "sent"
        }
      ],
      "connectTo": [
        {
          "target": "crashOrchestrator",
          "outputHandle": 0,
          "inputHandle": 0,
          "lineType": "dashed",
          "lineColor": "#f39c12",
          "edgeType": "curved",
          "particles": {
            "enabled": true,
            "speed": 2,
            "density": 150,
            "color": "#f39c12",
            "count": 3,
            "direction": "target",
            "text": "MCP",
            "textColor": "#ffffff",
            "fontSize": 8
          }
        }
      ],
      "handles": {
        "input": 1,
        "output": 0
      }
    }
  ]
}
